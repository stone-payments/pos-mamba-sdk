<div class="title">POS</div>

<ul class="controllers">
  <li class="controller">
    <span>S920</span>
    <Switch checked={devicePOS === 'S920'} on:change="setS920(event)" />
  </li>
  <li class="controller">
    <span>MP35P</span>
    <Switch checked={devicePOS === 'MP35P'} on:change="setMP35P(event)" />
  </li>
</ul>

<script>
  import { Registry } from '../../../index.js';

  export default {
    components: {
      Switch: '@mamba/switch',
    },
    data() {
      const { $Device } = Registry.get();

      return {
        devicePOS: $Device.device
      };
    },
    // onupdate({ previous, changed, current }) {
    //   if (changed.devicePOS) {
    //     Registry.set(draft => draft.$Device.device = current.devicePOS);
    //   }
    // },
    methods: {
      setS920(event) {
        if (event.value)
          this.set({
            devicePOS: 'S920',
          })
      },
      setMP35P(event) {
        if (event.value)
          this.set({
            devicePOS: 'MP35P',
          })
      },
    },
  };
</script>
