<div class="container">
  <h4>Padrão</h4>
  <div class="row">
    <button on:click="openDialog('defaultDialog', 2000)">
      Open dialog
    </button>
  </div>

  <Dialog ref:defaultDialog>
    Dialog Padrão
  </Dialog>

  <h4>Com Promise </h4>
  <div class="row">
    <button on:click="refreshPromise()">
      Initialize promise
    </button>
  </div>

  <PromisedDialog
    {promise}
    on:success="console.log('promise success', event)"
    on:failure="console.log(event)"
  >
    {#await promise}
      Loading...
    {:then }
      Success!!!
    {:catch }
      Something went wrong...
    {/await}
  </PromisedDialog>

  <h4>Com confirmação</h4>
  <div class="row">
    <button on:click="openDialog('confirmationDialog')">
      Open dialog
    </button>
  </div>

  <ConfirmationDialog ref:confirmationDialog title="IMPRESSORA SEM PAPEL">
    Tentar imprimir novamente?
  </ConfirmationDialog>
</div>

<script>
  import { Dialog, PromisedDialog, ConfirmationDialog } from '../src/index.js';

  export default {
    components: {
      Dialog,
      PromisedDialog,
      ConfirmationDialog,
    },
    methods: {
      refreshPromise() {
        this.set({
          promise: new Promise(resolve => setTimeout(() => resolve(), 2000)),
        });
      },
      openDialog(dialog, delay) {
        this.refs[dialog].open(delay);
      },
    },
  };
</script>

<style>
  :global(body) {
    background-color: #ddd;
  }

  h4 {
    display: inline-block;
    vertical-align: middle;
    font-size: 14px;
    font-weight: bold;
    word-break: break-all;
  }

  .container {
    max-width: 80%;
    width: 700px;
    margin: 80px auto;
  }

  .row {
    margin: 20px 0px 20px 0px;
  }
</style>
