<h4>Flatlist</h4>

{#if menu.length > 0}
  <Flatlist data={menu} renderItem={Line} on:active="getActive(event)" />
{/if}


<h4>Flatlist com sess√µes</h4>
{#if sectionList.length > 0}
  <Flatlist dataSection={sectionList} renderItem={Line} />
{/if}

<script>
  import Line from './Line.html';

  export default {
    components: {
      Flatlist: '@mamba/flatlist',
    },
    helpers: {
      Line,
    },
    data() {
      return {
        menu: [],
        sectionList: [],
      };
    },
    oncreate() {
      const menuList = this.getList();
      const sectionList = this.getSectionList();

      this.set({
        menu: menuList,
        sectionList,
      });

    },
    methods: {
      getSectionList() {
        const section = [
          {
            title: 'Dispositivo',
            data: [
              {
                label: '1. Som do teclado',
                shortcut: 1,
              },
              {
                label: '2. Luz do teclado',
                shortcut: 2,
              },
            ],
          },
        ];
        return section;
      },
      getList(){
        const list = [
          {
            label: 'Item 1',
            shortcut: 1,
            onClick: () => {
              console.log(this);
            },
          },
          {
            label: 'Item 2',
            shortcut: 2,
            onClick: () => this.goItemThow(),
          },
          {
            label: 'Item 3',
            shortcut: 3,
            onClick: () => {
              console.log(this);
            },
          },
          {
            label: 'Item 4',
            shortcut: 4,
            onClick: () => {
              console.log(this);
            },
          },
        ];

        return list;
      },
      goItemThow() {
        console.log('Row 2');
      },
      getActive(event) {
        console.log('getActive');
        console.log(event);
      },
    },
  };
</script>

<style type="text/postcss">

</style>
